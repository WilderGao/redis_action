## Redis事务应用（模拟一个下单购买的场景）
分别有三种类型的队列：
- 用户队列，用一个hash字典保存，name表示用户名，funds表示用户当前拥有的存款
- 物品队列，用一个set列表保存，每个set保存的是一个用户对应的商品，队列名为 inventory : 用户Id
- 商城队列，用一个有序列表表示，score表示的是价格，key由商品名+用户Id组成

### 将商品加入商城
1、判断该用户是否存在这件商品  
2、开启事务，从用户背包中移除该商品，将商品名称.用户Id作为键添加到商城队列 market: 中  
3、事务提交  
4、中间出现异常会导致事务回滚
  
  
####获得商品
1、判断商城是否存在改商品  
2、判断买家存款是否大于商品价格，或者判断这期间商品的价格有没有被修改，没有才继续   
3、开启事务，给买家存款扣钱，卖家存款加钱  
4、商城队列移除该商品，买家背包增加该商品  
5、提交事务  
6、出现异常会事务回滚